(()=>{"use strict";const e="get-address-wrapper",t="address-input",n="dropdown-div",d="address-button",r=`<input id=${t} placeholder="Enter your street address" class="${t}" />`,a=`<button id=${d} disabled class="${d}"></button>`;function o(e,t){const n=new Date((new Date).setFullYear((new Date).getFullYear()+1));document.cookie=`${e}=${t}; expires=${n}; domain=.sundae.com; path=/`}const s=()=>document.getElementById(e).classList.contains("get-address-button-only");function i(e){const r=document.getElementById(t),a=document.getElementById(d),o=document.getElementById(n),s=e.target,i=e.target.dataset.entries,l=s.innerText,p=i?Number(i):0;p&&p>1?c(encodeURIComponent(r.value).replaceAll("%20","+"),`${e.target.dataset.street}+${e.target.dataset.secondary}+(${p})+${e.target.dataset.city}+${e.target.dataset.state}+${e.target.dataset.zip}`):(r.value=l,a.disabled=!1,o.remove())}async function c(e,t){const r=""===`${e}`.trim(),a=document.getElementById(d);let o=document.getElementById(n);if(r)return a.disabled=!0,void(o&&o.remove());const s=await async function(e,t){const n=await fetch(`https://us-autocomplete-pro.api.smartystreets.com/lookup?auth-id=6566829531545330&search=${e}&selected=${t||""}`);return(await n.json()).suggestions.map((e=>(e.entriesCount="",e.entries>1&&(e.entriesCount=` (${e.entries} more entries)`),{fullAddress:`${e.street_line}${e.secondary?" "+e.secondary+e.entriesCount:""}, ${e.city}, ${e.state} ${e.zipcode}`,entries:e.entries,street:e.street_line,secondary:e.secondary,city:e.city,state:e.state,zipCode:e.zipcode})))}(e,t);let c=0===s.length?"Sorry, we couldn't find that address. Please try again.":"";s.forEach(((e,t)=>{const n=encodeURIComponent(e.street).replaceAll("%20","+"),d=encodeURIComponent(e.city).replaceAll("%20","+"),r=encodeURIComponent(e.state).replaceAll("%20","+"),a=encodeURIComponent(e.secondary).replaceAll("%20","+"),o=`<a aria-label=${e.fullAddress} aria-selected="false" id="address-lookup-db-smrt-strt-item-${t}" role="option" href="#"><span data-street=${n} data-city=${d} data-state=${r} data-zip=${e.zipCode} data-secondary=${a} data-entries=${e.entries}>${e.fullAddress}</span></a>`;c=c.concat(o)})),o||(o=document.createElement("div"),o.setAttribute("id",n),o.classList.add(n),a.parentNode.insertBefore(o,a)),o.innerHTML=c,o.querySelectorAll("a").forEach((e=>{e.removeEventListener("click",i),e.addEventListener("click",i)}))}const l="landing_page",p="utm_referrer",u=["utm_campaign","utm_content","utm_medium","utm_source","utm_term","utm_placement","gclid","ad_descriptor","fbclid"];function m(e){return document.cookie.split(";").some((t=>t.trim().startsWith(`${e}=`)))}const g=document.getElementById(e);!function(){const{hostname:e,search:t,pathname:n}=window.location,d=new URLSearchParams(t),r=document.referrer?new URL(document.referrer).hostname:"",a=encodeURIComponent(d.get(p)||r);m(l)||o(l,`${e}${n}`),o("url_params",`${t.replace("?","")}`),m(p)||o(p,a),window.ub&&(o("is_unbounce_landing_page","true"),window.ub.page&&window.ub.page.variantId&&o("unbounce_landing_page_variant",window.ub.page.variantId)),u.forEach((e=>{const t=d.get(e);t&&o(e,t)}))}(),g&&(function(){const t=document.getElementById(e),n=t.innerText;t.innerHTML=(s()?"":r)+a,document.getElementById(d).innerHTML=n||"Get Cash Offers"}(),function(){const e=document.getElementById(d);if(s())return void(e.disabled=!1);const n=document.getElementById(t),r=function(e,t=500){let n;return(...d)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,d)}),t)}}((async()=>{const e=n.value;await c(e)}),300);n.addEventListener("keydown",r)}(),function(){const e=document.getElementById(d),n=()=>{if(s())window.location.href="https://sell.sundae.com";else{const e=function(e){const t=e.split(", "),n=t[0],d=t[1],r=t[2],[a,o]=r.split(" ");return{fullAddress:`${n} ${d}, ${a} ${o}`,street:n,city:d,state:a,zipCode:o}}(document.getElementById(t).value);o("seller_address",JSON.stringify(e)),window.location.href="https://sell.sundae.com/new-seller/contact-info"}};e.removeEventListener("click",n),e.addEventListener("click",n)}(),(()=>{const e=document.createElement("style");e.textContent=(s()?"":"\n  .get-address-wrapper {\n    position: relative;\n    display: inline-block;\n    border: 1px solid #dadada;\n    border-radius: 4px;\n    padding: 4px;\n  }\n")+"\n.get-address-wrapper .address-input,\n.get-address-wrapper .address-button {\n  font-size: 16px;\n  height: 52px;\n}\n\n.get-address-wrapper .address-input {\n  border: none;\n  padding: 0 4px;\n}\n\n.get-address-wrapper .address-input:focus {\n  outline: none;\n}\n\n.get-address-wrapper .address-button {\n  background-color: #db3d55;\n  color: #fff;\n  padding: .5rem 1.5rem;\n  border: 0;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.get-address-wrapper .dropdown-div {\n  position: absolute;\n  top: 100%;\n  min-width: 350px;\n  border: #b8b8b8;\n  background-color: #fff;\n  padding: .75rem;\n  box-shadow: 0 4px 8px 0 rgba(74,74,74,.1);\n  text-align: left;\n}\n\n.get-address-wrapper .dropdown-div a {\n  font-size: 14px; display: block;\n  color: #4a4a4a;\n  text-decoration:  none;\n  line-height: 1.5rem;\n}\n\n.get-address-wrapper .dropdown-div a:hover {\n  color: #db3d55;\n}\n\n@media(min-width:  768px) {\n  .get-address-wrapper .address-input,\n  .get-address-wrapper .dropdown-div {\n    min-width: 450px;\n  }\n}\n",document.head.appendChild(e)})())})();